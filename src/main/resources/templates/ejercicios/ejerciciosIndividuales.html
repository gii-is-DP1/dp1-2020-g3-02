<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>

<link href="https://unpkg.com/gijgo@1.9.13/css/gijgo.min.css" rel="stylesheet" type="text/css" />

<!-- Bootstrap CSS -->
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
	integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
	crossorigin="anonymous">

<!--  Datatables  -->
<link rel="stylesheet" type="text/css"
	href="https://cdn.datatables.net/v/bs4/dt-1.10.20/datatables.min.css" />

<!--  extension responsive  -->
<link rel="stylesheet" type="text/css"
	href="https://cdn.datatables.net/responsive/2.2.3/css/responsive.dataTables.min.css">

<title>Ejercicios Individuales</title>
<link rel="icon" type="image/png" href="https://images.vexels.com/media/users/3/181410/isolated/preview/eb4635102ef855d3f98d7805ec155a77-icono-de-deportes-de-pelota-de-voleibol-by-vexels.png" />
</head>
<body>

	<script src="https://www.w3schools.com/lib/w3data.js"></script>
	
	<div class="">
		<div w3-include-html="navbar?id=ejerciciosIndividuales"></div> 
	</div>
	
	<div class="container-fluid">
	
		<div class="row pt-3">
			<div class="py-3 text-center col-lg-12">
				<h1 class="font-weight-bold font-italic">EJERCICIOS INDIVIDUALES</h1>
			</div>
		</div>
	
		<div class="row">
			<div class="container-fluid col-lg-3 py-3">
				<div class="card shadow bg-light" style="border-top-color: #28a745; border-top-width: 3px;">
					<div class="card-header text-white" style="background: rgb(40,167,69);
							background: linear-gradient(90deg, rgba(40,167,69,1) 0%, rgba(255,255,255,1) 100%);">
						<div class="row">
							<h3 class="card-title ml-3">Realizados</h3>
							<a id="realiza" href="#collapseRealiza" data-toggle="collapse" style="margin-left: auto;" class="mr-3 mt-2" onclick="return cambioMasMenos(this)">
								<i class="fas fa-minus text-dark"></i>
							</a>
						</div>
					</div>
					<div class="collapse show" id="collapseRealiza">
						<div class="card-body">
							<div class="container-fluid">
								<table id="realizaEjercicios" class="table table-striped table-bordered table-hover realizaEjercicios responsive" style="width: 100%;">
									<thead>
										<tr class="table-primary">
											<th>Nombre</th>
											<th>Fecha</th>
											<th>Ejercicio</th>
											<th>Posición</th>
										</tr>
									</thead>
								</table>
							</div>
						</div>
					</div>
				</div>
			</div>
			
			<div class="container-fluid col-lg-9">
				<div sec:authorize="hasAuthority('jugador')" class="row">
					<div class="col-lg py-3">
						<div class="card shadow bg-light" style="border-top-color: #007bff; border-top-width: 3px;">
							<div class="card-header text-white" style="background: rgb(0,123,255);
									background: linear-gradient(90deg, rgba(0,123,255,1) 0%, rgba(255,255,255,1) 100%);">
								<div class="row">
									<h3 class="card-title ml-3">Recomendados</h3>
									<a id="recomended" href="#collapseRecomendados" data-toggle="collapse" style="margin-left: auto;" class="mr-3 mt-2" onclick="return cambioMasMenos(this)">
										<i class="fas fa-plus"></i>
									</a>
								</div>
							</div>
							<div class="collapse" id="collapseRecomendados">
								<div class="card-body">
								<div class="container-fluid">
									<table id="recomendados" class="table table-sm table-striped table-bordered table-hover display recomendados responsive" style="width: 100%;">
										<thead>
											<tr class="table-primary">
												<th class="invisible"></th>
												<th>Tipo</th>
												<th>Nombre</th>
												<th>Descripción</th>
												<th>Acciones</th>
											</tr>
										</thead>
									</table>
								</div>
							</div>
							</div>
						</div>
					</div>
				</div>
				
				<div class="row">
					<div class="col-lg-6 py-3">
						<div class="card shadow bg-light" style="border-top-color: #007bff; border-top-width: 3px;">
							<div class="card-header text-white" style="background: rgb(23,162,184);
								background: linear-gradient(90deg, rgba(23,162,184,1) 0%, rgba(255,255,255,1) 100%, rgba(255,255,255,1) 100%);">
								<div class="row">
									<h3 class="card-title ml-3">Saque</h3>
									<a id="serve" href="#collapseSaque" data-toggle="collapse" style="margin-left: auto;" class="mr-3 mt-2" onclick="return cambioMasMenos(this)">
										<i class="fas fa-plus"></i>
									</a>
								</div>
							</div>
							<div class="collapse" id="collapseSaque">
								<div class="card-body">
								<div class="container-fluid">
									<table id="saque" class="table table-sm table-striped table-bordered table-hover saque responsive" style="width: 100%;">
										<thead>
											<tr class="table-primary">
												<th class="invisible"></th>
												<th>Nombre</th>
												<th>Descripción</th>
												<th>Acciones</th>
											</tr>
										</thead>
									</table>
								</div>
							</div>
							</div>
						</div>
					</div>
					
					<div class="col-lg-6 py-3">
						<div class="card shadow bg-light" style="border-top-color: #007bff; border-top-width: 3px;">
							<div class="card-header text-white" style="background: rgb(23,162,184);
								background: linear-gradient(90deg, rgba(23,162,184,1) 0%, rgba(255,255,255,1) 100%, rgba(255,255,255,1) 100%);">
								<div class="row">
									<h3 class="card-title ml-3">Recepción</h3>
									<a id="reception" href="#collapseRecepcion" data-toggle="collapse" style="margin-left: auto;" class="mr-3 mt-2" onclick="return cambioMasMenos(this)">
										<i class="fas fa-plus"></i>
									</a>
								</div>
							</div>
							<div class="collapse" id="collapseRecepcion">
								<div class="card-body">
								<div class="container-fluid">
									<table id="recepcion" class="table table-sm table-striped table-bordered table-hover recepcion responsive" style="width: 100%;">
										<thead>
											<tr class="table-primary">
												<th class="invisible"></th>
												<th>Nombre</th>
												<th>Descripción</th>
												<th>Acciones</th>
											</tr>
										</thead>
									</table>
								</div>
							</div>
							</div>
						</div>
					</div>
				</div>
				
				<div class="row">
					<div class="col-lg-6 py-3">
						<div class="card shadow bg-light" style="border-top-color: #007bff; border-top-width: 3px;">
							<div class="card-header text-white" style="background: rgb(23,162,184);
								background: linear-gradient(90deg, rgba(23,162,184,1) 0%, rgba(255,255,255,1) 100%, rgba(255,255,255,1) 100%);">
								<div class="row">
									<h3 class="card-title ml-3">Colocación</h3>
									<a id="set" href="#collapseColocacion" data-toggle="collapse" style="margin-left: auto;" class="mr-3 mt-2" onclick="return cambioMasMenos(this)">
										<i class="fas fa-plus"></i>
									</a>
								</div>
							</div>
							<div class="collapse" id="collapseColocacion">
								<div class="card-body">
								<div class="container-fluid">
									<table id="colocacion" class="table table-sm table-striped table-bordered table-hover colocacion responsive" style="width: 100%;">
										<thead>
											<tr class="table-primary">
												<th class="invisible"></th>
												<th>Nombre</th>
												<th>Descripción</th>
												<th>Acciones</th>
											</tr>
										</thead>
									</table>
								</div>
							</div>
							</div>
						</div>
					</div>
					
					<div class="col-lg-6 py-3">
						<div class="card shadow bg-light" style="border-top-color: #007bff; border-top-width: 3px;">
							<div class="card-header text-white" style="background: rgb(23,162,184);
								background: linear-gradient(90deg, rgba(23,162,184,1) 0%, rgba(255,255,255,1) 100%, rgba(255,255,255,1) 100%);">
								<div class="row">
									<h3 class="card-title ml-3">Defensa</h3>
									<a id="defense" href="#collapseDefensa" data-toggle="collapse" style="margin-left: auto;" class="mr-3 mt-2" onclick="return cambioMasMenos(this)">
										<i class="fas fa-plus"></i>
									</a>
								</div>
							</div>
							<div class="collapse" id="collapseDefensa">
								<div class="card-body">
								<div class="container-fluid">
									<table id="defensa" class="table table-sm table-striped table-bordered table-hover defensa responsive" style="width: 100%;">
										<thead>
											<tr class="table-primary">
												<th class="invisible"></th>
												<th>Nombre</th>
												<th>Descripción</th>
												<th>Acciones</th>
											</tr>
										</thead>
									</table>
								</div>
							</div>
							</div>
						</div>
					</div>
				</div>
				
				<div class="row">
					<div class="col-lg-6 py-3">
						<div class="card shadow bg-light" style="border-top-color: #007bff; border-top-width: 3px;">
							<div class="card-header text-white" style="background: rgb(23,162,184);
								background: linear-gradient(90deg, rgba(23,162,184,1) 0%, rgba(255,255,255,1) 100%, rgba(255,255,255,1) 100%);">
								<div class="row">
									<h3 class="card-title ml-3">Ataque</h3>
									<a id="attack" href="#collapseAtaque" data-toggle="collapse" style="margin-left: auto;" class="mr-3 mt-2" onclick="return cambioMasMenos(this)">
										<i class="fas fa-plus"></i>
									</a>
								</div>
							</div>
							<div class="collapse" id="collapseAtaque">
								<div class="card-body">
								<div class="container-fluid">
									<table id="ataque" class="table table-sm table-striped table-bordered table-hover ataque responsive" style="width: 100%;">
										<thead>
											<tr class="table-primary">
												<th class="invisible"></th>
												<th>Nombre</th>
												<th>Descripción</th>
												<th>Acciones</th>
											</tr>
										</thead>
									</table>
								</div>
							</div>
							</div>
						</div>
					</div>
					
					<div class="col-lg-6 py-3">
						<div class="card shadow bg-light" style="border-top-color: #007bff; border-top-width: 3px;">
							<div class="card-header text-white" style="background: rgb(23,162,184);
								background: linear-gradient(90deg, rgba(23,162,184,1) 0%, rgba(255,255,255,1) 100%, rgba(255,255,255,1) 100%);">
								<div class="row">
									<h3 class="card-title ml-3">Bloqueo</h3>
									<a id="block" href="#collapseBloqueo" data-toggle="collapse" style="margin-left: auto;" class="mr-3 mt-2" onclick="return cambioMasMenos(this)">
										<i class="fas fa-plus"></i>
									</a>
								</div>
							</div>
							<div class="collapse" id="collapseBloqueo">
								<div class="card-body">
								<div class="container-fluid">
									<table id="bloqueo" class="table table-sm table-striped table-bordered table-hover bloqueo responsive" style="width: 100%;">
										<thead>
											<tr class="table-primary">
												<th class="invisible"></th>
												<th>Nombre</th>
												<th>Descripción</th>
												<th>Acciones</th>
											</tr>
										</thead>
									</table>
								</div>
							</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	
	<div th:replace="ejercicios/modalGestionEjercicio"></div>
	<div th:replace="ejercicios/modalRealizaEjercicio"></div>
	<div th:replace="ejercicios/modalConfirmacionEjercicio"></div>
	
	<th:block layout:fragment="scripts">
		<script src=https://code.jquery.com/jquery-3.5.1.js></script>
		<!-- Optional JavaScript -->
		<script
			src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
			integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
			crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
	
		<!--   Datatables-->
		<script type="text/javascript"
			src="https://cdn.datatables.net/v/bs4/dt-1.10.20/datatables.min.js"></script>
	
		<!-- extension responsive -->
		<script
			src="https://cdn.datatables.net/responsive/2.2.3/js/dataTables.responsive.min.js"></script>
		<!-- Highcharts JS -->    
		<script type="text/javascript"
	        src="//code.highcharts.com/highcharts.js"></script>
	        
		<script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/1.2.1/js/dataTables.buttons.min.js">
		</script>
		<script type="text/javascript" language="javascript" src="//cdn.datatables.net/buttons/1.2.1/js/buttons.html5.min.js">
		</script> 
		<script src="https://unpkg.com/gijgo@1.9.13/js/gijgo.min.js" type="text/javascript"></script>
	        
	   	<script>
	   	
	   	var permisoEntrenador = [[${permisoEntrenador}]];
	   	var permisoJugador = [[${permisoJugador}]];
	   	
	   	function cambioMasMenos(element){
	   		if(element.parentNode.parentNode.parentNode.children[1].classList.contains('collapse')){
				if(element.children[0].classList.contains('fa-plus')){
					element.children[0].classList.replace('fa-plus', 'fa-minus');
				}else{
					element.children[0].classList.replace('fa-minus', 'fa-plus');
				}
	   		}
	 	}
	   	
	   	function obtenerTipoCorregido(tipo){
	   		var tipoCorregido = '';
	   		
	   		if(tipo === 'SAQUE'){
	   			tipoCorregido = 'Saque';
	   		} else if(tipo === 'RECEPCION'){
	   			tipoCorregido = 'Recepción';
	   		} else if(tipo === 'COLOCACION'){
	   			tipoCorregido = 'Colocación';
	   		} else if(tipo === 'DEFENSA'){
	   			tipoCorregido = 'Defensa';
	   		} else if(tipo === 'ATAQUE'){
	   			tipoCorregido = 'Ataque';
	   		} else if(tipo === 'BLOQUEO'){
	   			tipoCorregido = 'Bloqueo';
	   		}
	   		
	   		return tipoCorregido;
	   	}
	   	
	   	function editar(id) {
	   		//var id = $(this).parent().find('#id').val();

	   		$('.error').text('');

	   		$.ajax({
	   			type : 'GET',
	   			url : '/ejercicios/findEjercicio/' + id,
	   			success : function(edit) {
	   				console.log(edit.tipo);
	   				$('#tipoGestionEjercicio').val(edit.tipo);
                	$('#idGestionEjercicio').val(edit.id);
                	$('#nombre').val(edit.nombre);
					$('#descripcion').val(edit.descripcion);
	   				
	   				$('#gestionModal .modal-header').css("color", "white");
					$('#gestionModal .modal-title').text("Edición del Ejercicio de " + obtenerTipoCorregido(edit.tipo));
					$('#gestionModal').modal("show");
	   			}
	   		});
	   	};
	   	
	   	function realizar(id) {

	   		$('.error').text('');

	   		$.ajax({
	   			type : 'GET',
	   			url : '/ejercicios/findEjercicio/' + id,
	   			success : function(dato) {
	   				
	   				var hoy = new Date();
	   				var hoyS = zeros(hoy.getDate()) + "/" + (zeros(hoy.getMonth() +1)) + "/" + hoy.getFullYear();
	   				
	   				$('#idRealizarEjercicio').val(dato.id);
	   				$('#fecha').val(hoyS);
	   				
	   				$('#realizaModal .modal-header').css("color", "white");
					$('#realizaModal .modal-title').text("Realizo el Ejercicio: " + dato.nombre);
					$('#realizaModal').modal("show");
	   			}
	   		});
	   	};
	   	
	   	function zeros(dato){
	   		if(dato<10){
	   			return "0"+dato;
	   		} else {
	   			return dato;
	   		}
	   	}
	   	
	   	function eliminarEjercicio(id) {
	   		$.ajax({
	   			type : 'GET',
	   			url : '/ejercicios/findEjercicio/' + id,
	   			success : function(data) {
	   				console.log(data.tipo);
	   				$('#tipoConfirmacionEjercicio').val(data.tipo);
                	$('#idConfirmacionEjercicio').val(data.id);
	   				
					$('#confirmacionEjercicioModal .modal-header').css("color", "white");
					$('#confirmacionEjercicioModal .modal-title').text("Eliminar Ejercicio: " + data.nombre);
					$('#confirmacionEjercicioModal').modal("show");
	   			}
	   		});
	   	};
	   	
	   	function inicializaBotonesSiEntrenador(permiso, tipo){
	   		var buttons = [];
	   		if(permiso){
	   			buttons.push({
		   			text: '<i class="fas fa-plus"></i> Nuevo',
	        		className: 'btn btn-info px-2',
	                titleAttr: 'Nuevo',
	                action: function (e, dt, node, config) {
	                	
	                	$('.error').text('');
	                	
	                	$('#tipoGestionEjercicio').val(tipo);
	                	$('#idGestionEjercicio').val('');
	                	$('#nombre').val('');
						$('#descripcion').val('');
	                	
	                	$('#gestionModal .modal-header').css("color", "white");
						$('#gestionModal .modal-title').text("Nuevo Ejercicio de " + obtenerTipoCorregido(tipo));
						$('#gestionModal').modal("show");
					}
		   		});
	   		}
	   		
	   		return buttons;
	   	}
	   		
	   	$(document)
		.ready(
				
				function() {
					
					tablaRealizaEjercicio=$('#realizaEjercicios')
							.DataTable({
								ajax: '[[@{/ejercicios/tablaRealizados}]]',
								dom: 'tp',
								order: [1, 'desc'],
								responsive: true,
								"columns":[
									{data: 'nombreJugador'},
									{data: 'fecha',
										render: function(data){
											var partes = data.split("/");
											var year = partes[2];
											var month = partes[1];
											var day = partes[0];
											
											if(day<10){
												day = "0"+day;
											}
											
											if(month<10){
												month = "0"+month;
											}
											
											return year + "-" + month + "-" + day;
										}},
									{data: 'nombreEjercicio'},
									{data: 'posicionJugador'},
								],
								"language" : {
									emptyTable: "Sin datos",
									"info": "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
									"infoEmpty":      "Mostrando 0 de 0 registros",
									"lengthMenu":     "Mostrando 5 registros",
									"search":         "Buscar:",
									"zeroRecords":    "Sin resultados",
									"paginate": {
										"first":      "Primera",
										"last":       "Última",
										"next":       "Siguiente",
										"previous":   "Anterior"
									}
								}
							});
					
					
					tablaRecomendados=$('#recomendados')
					.DataTable({
						ajax: '[[@{/ejercicios/tablaRecomendados}]]',
						order: [1, 'asc'],
						responsive: true,
						"columns":[
							{data: 'id'},
							{data: 'tipo'},
							{data: 'nombre'},
							{data: 'descripcion'},
							{data: 'acciones',
								render: function(data,type,row){
								var botones = "";
								var botonEditar = "<button  onclick='return editar("+ row['id'] +");' class='btn btn-outline-info mx-0 editar' type='button' title='Editar'>"+"<i class='fas fa-edit'></i></button>";
								var botonRealizar = "<button  onclick='return realizar("+ row['id'] +");' class='btn btn-outline-success mx-0 realizar' type='button' title='Realizar'>"+"<i class='fas fa-volleyball-ball'></i></button>"
								
								if(permisoEntrenador){
									botones = botonEditar;
								} else if(permisoJugador){
									botones = botonRealizar;
								}
								
								return botones;
							}}
						],
						columnDefs: [
							{
				                "targets": [ 0 ],
				                "visible": false,
				                "searchable": false
				            },
				            {
				                "targets": [ 1 ],
				                "searchable": false,
				                "responsivePriority": 2
				            },
				            {
				                "targets": [ 2 ],
				                "searchable": false,
				                "responsivePriority": 0
				            },
				            {
				                "targets": [ -2 ],
				                "searchable": false,
				                "orderable": false
				            },
				            {
				                "targets": [ -1 ],
				                "searchable": false,
				                "orderable": false,
				                "responsivePriority": 1
				            }
						],
						"language" : {
						    "processing": "Procesando...",
						    "lengthMenu": "Mostrar _MENU_ registros",
						    "zeroRecords": "Sin resultados",
						    "emptyTable": "Sin datos",
						    "info": "Mostrando del _START_ al _END_ de un total de _TOTAL_",
						    "infoEmpty": "Mostrando del 0 al 0 de un total de 0",
						    "infoFiltered": "(filtrado de un total de _MAX_ registros)",
						    "search": "Buscar:",
						    "infoThousands": ",",
						    "loadingRecords": "Cargando...",
						    "paginate": {
						        "first": "Primero",
						        "last": "Último",
						        "next": "Siguiente",
						        "previous": "Anterior"
						    }
						}
					});
					
					tablaSaque=$('#saque')
					.DataTable({
						dom: "<'row'<'col-sm-3'B><'col-sm-9'f>r>tp",
						ajax: '[[@{/ejercicios/tablaTipo/}]]'+'SAQUE',
						order: [1, 'asc'],
						responsive: true,
						"columns":[
							{data: 'id'},
							{data: 'nombre'},
							{data: 'descripcion'},
							{data: 'acciones',
								render: function(data,type,row){
								var botones = "";
								var botonEditar = "<button  onclick='return editar("+ row['id'] +");' class='btn btn-outline-info editar' type='button' title='Editar'>"+"<i class='fas fa-edit'></i></button>";
								var botonRealizar = "<button  onclick='return realizar("+ row['id'] +");' class='btn btn-outline-success realizar' type='button' title='Realizar'>"+"<i class='fas fa-volleyball-ball'></i></button>"
								var botonEliminar = "<button  onclick='return eliminarEjercicio("+ row['id'] +");' class='btn btn-outline-danger ml-1 realizar' type='button' title='Eliminar'>"+"<i class='fas fa-trash-alt'></i></button>"
								
								if(permisoEntrenador){
									botones = botonEditar + botonEliminar;
								} else if(permisoJugador){
									botones = botonRealizar;
								}
								
								return botones;
							}}
						],
						columnDefs: [
							{
				                "targets": [ 0 ],
				                "visible": false,
				                "searchable": false
				            },
				            {
				                "targets": [ 1 ],
				                "searchable": false,
				                "responsivePriority": 0
				            },
				            {
				                "targets": [ -2 ],
				                "searchable": false,
				                "orderable": false
				            },
				            {
				                "targets": [ -1 ],
				                "searchable": false,
				                "orderable": false,
				                "responsivePriority": 1
				            }
						],
						buttons: inicializaBotonesSiEntrenador(permisoEntrenador, 'SAQUE'),
						"language" : {
						    "processing": "Procesando...",
						    "lengthMenu": "Mostrar _MENU_ registros",
						    "zeroRecords": "Sin resultados",
						    "emptyTable": "Sin datos",
						    "info": "Mostrando del _START_ al _END_ de un total de _TOTAL_",
						    "infoEmpty": "Mostrando del 0 al 0 de un total de 0",
						    "infoFiltered": "(filtrado de un total de _MAX_ registros)",
						    "search": "Buscar:",
						    "infoThousands": ",",
						    "loadingRecords": "Cargando...",
						    "paginate": {
						        "first": "Primero",
						        "last": "Último",
						        "next": "Siguiente",
						        "previous": "Anterior"
						    }
						}
					});
					
					tablaRecepcion=$('#recepcion')
					.DataTable({
						dom: "<'row'<'col-sm-3'B><'col-sm-9'f>r>tp",
						ajax: '[[@{/ejercicios/tablaTipo/}]]'+'RECEPCION',
						order: [0, 'asc'],
						responsive: true,
						"columns":[
							{data: 'id'},
							{data: 'nombre'},
							{data: 'descripcion'},
							{data: 'acciones',
								render: function(data,type,row){
								var botones = "";
								var botonEditar = "<button  onclick='return editar("+ row['id'] +");' class='btn btn-outline-info mx-0 editar' type='button' title='Editar'>"+"<i class='fas fa-edit'></i></button>";
								var botonRealizar = "<button  onclick='return realizar("+ row['id'] +");' class='btn btn-outline-success mx-0 realizar' type='button' title='Realizar'>"+"<i class='fas fa-volleyball-ball'></i></button>"
								var botonEliminar = "<button  onclick='return eliminarEjercicio("+ row['id'] +");' class='btn btn-outline-danger ml-1 realizar' type='button' title='Eliminar'>"+"<i class='fas fa-trash-alt'></i></button>"
								
								if(permisoEntrenador){
									botones = botonEditar + botonEliminar;
								} else if(permisoJugador){
									botones = botonRealizar;
								}
								
								return botones;
							}}
						],
						columnDefs: [
							{
				                "targets": [ 0 ],
				                "visible": false,
				                "searchable": false
				            },
				            {
				                "targets": [ 1 ],
				                "searchable": false,
				                "responsivePriority": 0
				            },
				            {
				                "targets": [ -2 ],
				                "searchable": false,
				                "orderable": false
				            },
				            {
				                "targets": [ -1 ],
				                "searchable": false,
				                "orderable": false,
				                "responsivePriority": 1
				            }
						],
						buttons: inicializaBotonesSiEntrenador(permisoEntrenador, 'RECEPCION'),
						"language" : {
						    "processing": "Procesando...",
						    "lengthMenu": "Mostrar _MENU_ registros",
						    "zeroRecords": "Sin resultados",
						    "emptyTable": "Sin datos",
						    "info": "Mostrando del _START_ al _END_ de un total de _TOTAL_",
						    "infoEmpty": "Mostrando del 0 al 0 de un total de 0",
						    "infoFiltered": "(filtrado de un total de _MAX_ registros)",
						    "search": "Buscar:",
						    "infoThousands": ",",
						    "loadingRecords": "Cargando...",
						    "paginate": {
						        "first": "Primero",
						        "last": "Último",
						        "next": "Siguiente",
						        "previous": "Anterior"
						    }
						}
					});
					
					tablaColocacion=$('#colocacion')
					.DataTable({
						dom: "<'row'<'col-sm-3'B><'col-sm-9'f>r>tp",
						ajax: '[[@{/ejercicios/tablaTipo/}]]'+'COLOCACION',
						order: [0, 'asc'],
						responsive: true,
						"columns":[
							{data: 'id'},
							{data: 'nombre'},
							{data: 'descripcion'},
							{data: 'acciones',
								render: function(data,type,row){
								var botones = "";
								var botonEditar = "<button  onclick='return editar("+ row['id'] +");' class='btn btn-outline-info mx-0 editar' type='button' title='Editar'>"+"<i class='fas fa-edit'></i></button>";
								var botonRealizar = "<button  onclick='return realizar("+ row['id'] +");' class='btn btn-outline-success mx-0 realizar' type='button' title='Realizar'>"+"<i class='fas fa-volleyball-ball'></i></button>"
								var botonEliminar = "<button  onclick='return eliminarEjercicio("+ row['id'] +");' class='btn btn-outline-danger ml-1 realizar' type='button' title='Eliminar'>"+"<i class='fas fa-trash-alt'></i></button>"
								
								if(permisoEntrenador){
									botones = botonEditar + botonEliminar;
								} else if(permisoJugador){
									botones = botonRealizar;
								}
								
								return botones;
							}}
						],
						columnDefs: [
							{
				                "targets": [ 0 ],
				                "visible": false,
				                "searchable": false
				            },
				            {
				                "targets": [ 1 ],
				                "searchable": false,
				                "responsivePriority": 0
				            },
				            {
				                "targets": [ -2 ],
				                "searchable": false,
				                "orderable": false
				            },
				            {
				                "targets": [ -1 ],
				                "searchable": false,
				                "orderable": false,
				                "responsivePriority": 1
				            }
						],
						buttons: inicializaBotonesSiEntrenador(permisoEntrenador, 'COLOCACION'),
						"language" : {
						    "processing": "Procesando...",
						    "lengthMenu": "Mostrar _MENU_ registros",
						    "zeroRecords": "Sin resultados",
						    "emptyTable": "Sin datos",
						    "info": "Mostrando del _START_ al _END_ de un total de _TOTAL_",
						    "infoEmpty": "Mostrando del 0 al 0 de un total de 0",
						    "infoFiltered": "(filtrado de un total de _MAX_ registros)",
						    "search": "Buscar:",
						    "infoThousands": ",",
						    "loadingRecords": "Cargando...",
						    "paginate": {
						        "first": "Primero",
						        "last": "Último",
						        "next": "Siguiente",
						        "previous": "Anterior"
						    }
						}
					});
					
					tablaDefensa=$('#defensa')
					.DataTable({
						dom: "<'row'<'col-sm-3'B><'col-sm-9'f>r>tp",
						ajax: '[[@{/ejercicios/tablaTipo/}]]'+'DEFENSA',
						order: [0, 'asc'],
						responsive: true,
						"columns":[
							{data: 'id'},
							{data: 'nombre'},
							{data: 'descripcion'},
							{data: 'acciones',
								render: function(data,type,row){
								var botones = "";
								var botonEditar = "<button  onclick='return editar("+ row['id'] +");' class='btn btn-outline-info mx-0 editar' type='button' title='Editar'>"+"<i class='fas fa-edit'></i></button>";
								var botonRealizar = "<button  onclick='return realizar("+ row['id'] +");' class='btn btn-outline-success mx-0 realizar' type='button' title='Realizar'>"+"<i class='fas fa-volleyball-ball'></i></button>"
								var botonEliminar = "<button  onclick='return eliminarEjercicio("+ row['id'] +");' class='btn btn-outline-danger ml-1 realizar' type='button' title='Eliminar'>"+"<i class='fas fa-trash-alt'></i></button>"
								
								if(permisoEntrenador){
									botones = botonEditar + botonEliminar;
								} else if(permisoJugador){
									botones = botonRealizar;
								}
								
								return botones;
							}}
						],
						columnDefs: [
							{
				                "targets": [ 0 ],
				                "visible": false,
				                "searchable": false
				            },
				            {
				                "targets": [ 1 ],
				                "searchable": false,
				                "responsivePriority": 0
				            },
				            {
				                "targets": [ -2 ],
				                "searchable": false,
				                "orderable": false
				            },
				            {
				                "targets": [ -1 ],
				                "searchable": false,
				                "orderable": false,
				                "responsivePriority": 1
				            }
						],
						buttons: inicializaBotonesSiEntrenador(permisoEntrenador, 'DEFENSA'),
						"language" : {
						    "processing": "Procesando...",
						    "lengthMenu": "Mostrar _MENU_ registros",
						    "zeroRecords": "Sin resultados",
						    "emptyTable": "Sin datos",
						    "info": "Mostrando del _START_ al _END_ de un total de _TOTAL_",
						    "infoEmpty": "Mostrando del 0 al 0 de un total de 0",
						    "infoFiltered": "(filtrado de un total de _MAX_ registros)",
						    "search": "Buscar:",
						    "infoThousands": ",",
						    "loadingRecords": "Cargando...",
						    "paginate": {
						        "first": "Primero",
						        "last": "Último",
						        "next": "Siguiente",
						        "previous": "Anterior"
						    }
						}
					});
					
					tablaAtaque=$('#ataque')
					.DataTable({
						dom: "<'row'<'col-sm-3'B><'col-sm-9'f>r>tp",
						ajax: '[[@{/ejercicios/tablaTipo/}]]'+'ATAQUE',
						order: [0, 'asc'],
						responsive: true,
						"columns":[
							{data: 'id'},
							{data: 'nombre'},
							{data: 'descripcion'},
							{data: 'acciones',
								render: function(data,type,row){
								var botones = "";
								var botonEditar = "<button  onclick='return editar("+ row['id'] +");' class='btn btn-outline-info mx-0 editar' type='button' title='Editar'>"+"<i class='fas fa-edit'></i></button>";
								var botonRealizar = "<button  onclick='return realizar("+ row['id'] +");' class='btn btn-outline-success mx-0 realizar' type='button' title='Realizar'>"+"<i class='fas fa-volleyball-ball'></i></button>"
								var botonEliminar = "<button  onclick='return eliminarEjercicio("+ row['id'] +");' class='btn btn-outline-danger ml-1 realizar' type='button' title='Eliminar'>"+"<i class='fas fa-trash-alt'></i></button>"
								
								if(permisoEntrenador){
									botones = botonEditar + botonEliminar;
								} else if(permisoJugador){
									botones = botonRealizar;
								}
								
								return botones;
							}}
						],
						columnDefs: [
							{
				                "targets": [ 0 ],
				                "visible": false,
				                "searchable": false
				            },
				            {
				                "targets": [ 1 ],
				                "searchable": false,
				                "responsivePriority": 0
				            },
				            {
				                "targets": [ -2 ],
				                "searchable": false,
				                "orderable": false
				            },
				            {
				                "targets": [ -1 ],
				                "searchable": false,
				                "orderable": false,
				                "responsivePriority": 1
				            }
						],
						buttons: inicializaBotonesSiEntrenador(permisoEntrenador, 'ATAQUE'),
						"language" : {
						    "processing": "Procesando...",
						    "lengthMenu": "Mostrar _MENU_ registros",
						    "zeroRecords": "Sin resultados",
						    "emptyTable": "Sin datos",
						    "info": "Mostrando del _START_ al _END_ de un total de _TOTAL_",
						    "infoEmpty": "Mostrando del 0 al 0 de un total de 0",
						    "infoFiltered": "(filtrado de un total de _MAX_ registros)",
						    "search": "Buscar:",
						    "infoThousands": ",",
						    "loadingRecords": "Cargando...",
						    "paginate": {
						        "first": "Primero",
						        "last": "Último",
						        "next": "Siguiente",
						        "previous": "Anterior"
						    }
						}
					});
					
					tablaBloqueo=$('#bloqueo')
					.DataTable({
						dom: "<'row'<'col-sm-3'B><'col-sm-9'f>r>tp",
						ajax: '[[@{/ejercicios/tablaTipo/}]]'+'BLOQUEO',
						order: [0, 'asc'],
						responsive: true,
						"columns":[
							{data: 'id'},
							{data: 'nombre'},
							{data: 'descripcion'},
							{data: 'acciones',
								render: function(data,type,row){
								var botones = "";
								var botonEditar = "<button  onclick='return editar("+ row['id'] +");' class='btn btn-outline-info mx-0 editar' type='button' title='Editar'>"+"<i class='fas fa-edit'></i></button>";
								var botonRealizar = "<button  onclick='return realizar("+ row['id'] +");' class='btn btn-outline-success mx-0 realizar' type='button' title='Realizar'>"+"<i class='fas fa-volleyball-ball'></i></button>"
								var botonEliminar = "<button  onclick='return eliminarEjercicio("+ row['id'] +");' class='btn btn-outline-danger ml-1 realizar' type='button' title='Eliminar'>"+"<i class='fas fa-trash-alt'></i></button>"
								
								if(permisoEntrenador){
									botones = botonEditar + botonEliminar;
								} else if(permisoJugador){
									botones = botonRealizar;
								}
								
								return botones;
							}}
						],
						columnDefs: [
							{
				                "targets": [ 0 ],
				                "visible": false,
				                "searchable": false
				            },
				            {
				                "targets": [ 1 ],
				                "searchable": false,
				                "responsivePriority": 0
				            },
				            {
				                "targets": [ -2 ],
				                "searchable": false,
				                "orderable": false
				            },
				            {
				                "targets": [ -1 ],
				                "searchable": false,
				                "orderable": false,
				                "responsivePriority": 1
				            }
						],
						buttons: inicializaBotonesSiEntrenador(permisoEntrenador, 'BLOQUEO'),
						"language" : {
						    "processing": "Procesando...",
						    "lengthMenu": "Mostrar _MENU_ registros",
						    "zeroRecords": "Sin resultados",
						    "emptyTable": "Sin datos",
						    "info": "Mostrando del _START_ al _END_ de un total de _TOTAL_",
						    "infoEmpty": "Mostrando del 0 al 0 de un total de 0",
						    "infoFiltered": "(filtrado de un total de _MAX_ registros)",
						    "search": "Buscar:",
						    "infoThousands": ",",
						    "loadingRecords": "Cargando...",
						    "paginate": {
						        "first": "Primero",
						        "last": "Último",
						        "next": "Siguiente",
						        "previous": "Anterior"
						    }
						}
					});

				});
	   	
	   	</script>
	        
	    <script type="text/javascript">
			w3IncludeHTML();
		</script>
	</th:block>
<script type="text/javascript">
	function abrirPassword() {
		$('#gestionPassword #oldPassword').val("");
		$('#gestionPassword #newPassword').val("");
		$('#gestionPassword #confirmPassword').val("");
		$('.error').text('');
		$('#gestionPassword .modal-header').css("color", "white");
		$('#gestionPassword .modal-title').text("Cambiar Contraseña");
		$('#gestionPassword').modal("show");
	};
	
	function enviarEdicionPassword() {
		var form = new FormData(document.getElementById('formPassword'));
		$.ajax({
			url : '/users/postpassword',
			type : 'post',
			data : form,
			processData : false,
			contentType : false,
			success : function(data) {
				$('#gestionPassword').modal("hide");
				location.reload();
				//toastSuccess("Personal creado con éxito");
			},
			error : function(data) {

				$('.error').text('');

				for (i = 0; i < data.responseJSON.length; i++) {

					var campo = data.responseJSON[i].field;
					$('.' + campo).text(data.responseJSON[i].defaultMessage);
				}
			}
		});
	};
	
</script>
</body>
</html>